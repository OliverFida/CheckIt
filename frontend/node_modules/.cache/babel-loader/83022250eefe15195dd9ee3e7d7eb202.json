{"ast":null,"code":"import _regeneratorRuntime from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Component imports\nimport React,{useState,useContext,useEffect}from'react';import{Stack,Button,Form,Modal,Table}from'react-bootstrap';import AppNavBar from'./components/AppNavBar';import UserEditContextProvider,{UserEditContext}from'../contexts/UserEditContext';// Style imports\nimport'../css/components/UserPage.css';// Api imports\nimport AdminAPI from'../api/admin';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function UserEdit(){return/*#__PURE__*/_jsx(UserEditContextProvider,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"vertical\",children:[/*#__PURE__*/_jsx(AppNavBar,{}),/*#__PURE__*/_jsx(UserEditBody,{}),/*#__PURE__*/_jsx(EditNameModal,{}),/*#__PURE__*/_jsx(NewUserModal,{})]})});};function UserEditBody(){return/*#__PURE__*/_jsxs(Table,{className:\"useredit\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Vorname\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nachname\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(UserEditRow,{})})]});}function UserEditRow(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),elements=_useState2[0],setElements=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUserData=_useState4[1];var _useContext=useContext(UserEditContext),ueContext=_useContext.ueContext,setUpContext=_useContext.setUpContext;var showEditUser=function showEditUser(){setUpContext(_objectSpread(_objectSpread({},ueContext),{},{showEditUserModal:true}));};useEffect(function(){function doAsync(){return _doAsync.apply(this,arguments);}function _doAsync(){_doAsync=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=setUserData;_context.next=3;return AdminAPI.getUsers();case 3:_context.t1=_context.sent;(0,_context.t0)(_context.t1);case 5:case\"end\":return _context.stop();}}},_callee);}));return _doAsync.apply(this,arguments);}doAsync();},[]);useEffect(function(){setElements(users===null||users===void 0?void 0:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{valign:\"middle\",children:user.firstName},\"user\".concat(user.firstName)),/*#__PURE__*/_jsx(\"td\",{valign:\"middle\",children:user.lastname},\"user\".concat(user.lastname)),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{onClick:showEditUser,className:\"me-2 my-1\",children:\"Name \\xC4ndern\"}),/*#__PURE__*/_jsx(Button,{className:\"my-1 me-2\",children:\"Passwort zur\\xFCcksetzen\"}),/*#__PURE__*/_jsx(Button,{className:\"my-1 me-2\",variant:\"danger\",children:\"Benutzer deaktivieren\"})]})]},\"user_\".concat(user.id));}));},[users]);return/*#__PURE__*/_jsx(_Fragment,{children:elements});}function EditNameModal(){var _useContext2=useContext(UserEditContext),ueContext=_useContext2.ueContext,setUpContext=_useContext2.setUpContext;var onCancel=function onCancel(){setUpContext(_objectSpread(_objectSpread({},ueContext),{},{showUserEditModal:false}));};return/*#__PURE__*/_jsxs(Modal,{show:ueContext.showUserEditModal,onHide:onCancel,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Name \\xE4ndern\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"editFirstName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Neuer Vorname\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"editLastName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Neuer Nachname\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\"})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onCancel,children:\"Abbrechen\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:onCancel,children:\"\\xC4nderungen Speichern\"})]})]});}function NewUserModal(){var _useContext3=useContext(UserEditContext),ueContext=_useContext3.ueContext,setUpContext=_useContext3.setUpContext;var onCancel=function onCancel(){setUpContext(_objectSpread(_objectSpread({},ueContext),{},{showNewUserModal:false}));};return/*#__PURE__*/_jsxs(Modal,{show:ueContext.showNewUserModal,onHide:onCancel,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Neuen Benutzer erstellen\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"newUsertName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Benutzername\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"newFirstName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Vorname\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"newLastName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nachname\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\"})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onCancel,children:\"Abbrechen\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:onCancel,children:\"Benutzer speichern\"})]})]});}function NewUserButton(){var _useContext4=useContext(UserEditContext),ueContext=_useContext4.ueContext,setUpContext=_useContext4.setUpContext;var showNewUser=function showNewUser(){setUpContext(_objectSpread(_objectSpread({},ueContext),{},{showNewUserModal:true}));};return/*#__PURE__*/_jsx(Button,{onClick:showNewUser,className:\"my-1\",children:\"Neuen Benutzer erstellen\"});}","map":{"version":3,"names":["React","useState","useContext","useEffect","Stack","Button","Form","Modal","Table","AppNavBar","UserEditContextProvider","UserEditContext","AdminAPI","UserEdit","UserEditBody","UserEditRow","elements","setElements","users","setUserData","ueContext","setUpContext","showEditUser","showEditUserModal","doAsync","getUsers","map","user","firstName","lastname","id","EditNameModal","onCancel","showUserEditModal","NewUserModal","showNewUserModal","NewUserButton","showNewUser"],"sources":["/home/oliver/Desktop/awl-raumreservierung/frontend/src/pages/UserEdit.js"],"sourcesContent":["// Component imports\nimport React, { useState, useContext, useEffect} from 'react';\nimport {Stack, Button, Form, Modal, Table} from 'react-bootstrap';\nimport AppNavBar from './components/AppNavBar';\nimport UserEditContextProvider, {UserEditContext} from '../contexts/UserEditContext';\n\n// Style imports\nimport '../css/components/UserPage.css';\n\n// Api imports\nimport AdminAPI from '../api/admin';\n\nexport default function UserEdit(){\n    \n    return(\n        <UserEditContextProvider>\n            <Stack direction='vertical'>\n                <AppNavBar>\n                </AppNavBar>\n                <UserEditBody />\n                <EditNameModal />\n                <NewUserModal />\n            </Stack>  \n        </UserEditContextProvider>\n    );\n};\n\nfunction UserEditBody(){\n    return(\n        <Table className='useredit'>\n            <thead>\n                <tr>                        \n                    <th>Vorname</th>\n                    <th>Nachname</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                <UserEditRow />\n            </tbody>\n        </Table>\n    );\n}\n\nfunction UserEditRow(){\n    const [elements, setElements] = useState([]);\n    const [users, setUserData] = useState(null);\n\n    const {ueContext, setUpContext} = useContext(UserEditContext);\n\n    const showEditUser = () => {\n        setUpContext({...ueContext, showEditUserModal: true});\n    };\n\n    useEffect(() => {\n        async function doAsync(){\n            setUserData(await AdminAPI.getUsers());\n        }\n        doAsync();\n    }, []);\n    \n    useEffect(() => {\n        setElements(users?.map(user =>\n            <tr key={`user_${user.id}`}>                        \n                <td valign='middle' key={`user${user.firstName}`}>{user.firstName}</td>\n                <td valign='middle' key={`user${user.lastname}`}>{user.lastname}</td>\n                <td>\n                    <Button onClick={showEditUser} className=\"me-2 my-1\">\n                        Name Ändern\n                    </Button>\n                    <Button className=\"my-1 me-2\">\n                        Passwort zurücksetzen\n                    </Button>\n                    <Button className=\"my-1 me-2\" variant=\"danger\">\n                        Benutzer deaktivieren\n                    </Button>                       \n                </td>\n            </tr>\n           ));\n    }, [users]);\n\n    return(\n        <>\n            {elements}\n        </>\n    )\n}\n\nfunction EditNameModal(){\n    const {ueContext, setUpContext} = useContext(UserEditContext);\n\n    const onCancel = () => {\n        setUpContext({...ueContext, showUserEditModal: false});\n    }\n\n    return (\n        <Modal show={ueContext.showUserEditModal} onHide={onCancel} centered>\n            <Modal.Header closeButton>\n                <Modal.Title>Name ändern</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form>\n                    <Form.Group className=\"mb-3\" controlId=\"editFirstName\">\n                        <Form.Label>Neuer Vorname</Form.Label>\n                        <Form.Control type=\"text\"/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"editLastName\">\n                        <Form.Label>Neuer Nachname</Form.Label>\n                        <Form.Control type=\"text\"/>\n                    </Form.Group>                                      \n                </Form> \n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={onCancel}>\n                    Abbrechen\n                </Button>\n                <Button variant=\"primary\" onClick={onCancel}>\n                    Änderungen Speichern\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n}\n\nfunction NewUserModal(){\n    const {ueContext, setUpContext} = useContext(UserEditContext);\n\n    const onCancel = () => {\n        setUpContext({...ueContext, showNewUserModal: false});\n    }\n\n    return(\n        <Modal show={ueContext.showNewUserModal} onHide={onCancel}>\n            <Modal.Header closeButton>\n                <Modal.Title>Neuen Benutzer erstellen</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form>\n                    <Form.Group className=\"mb-3\" controlId=\"newUsertName\">\n                        <Form.Label>Benutzername</Form.Label>\n                        <Form.Control type=\"text\"/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"newFirstName\">\n                        <Form.Label>Vorname</Form.Label>\n                        <Form.Control type=\"text\"/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"newLastName\">\n                        <Form.Label>Nachname</Form.Label>\n                        <Form.Control type=\"text\"/>\n                    </Form.Group>                                                         \n                </Form> \n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={onCancel}>\n                    Abbrechen\n                </Button>\n                <Button variant=\"primary\" onClick={onCancel}>\n                    Benutzer speichern\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n}\n\nfunction NewUserButton(){\n    const {ueContext, setUpContext} = useContext(UserEditContext);\n\n    const showNewUser = () => {\n        setUpContext({...ueContext, showNewUserModal: true});\n    }\n\n    return(\n        <Button onClick={showNewUser} className=\"my-1\">\n            Neuen Benutzer erstellen\n        </Button>\n    );\n}\n      "],"mappings":"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"},"metadata":{},"sourceType":"module"}