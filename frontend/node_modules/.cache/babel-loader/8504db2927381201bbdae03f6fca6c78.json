{"ast":null,"code":"import _regeneratorRuntime from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Component imports\nimport React,{useEffect,useState,useContext}from'react';import{Stack,Button,Table,Modal,Form}from'react-bootstrap';import AppNavBar from'./components/AppNavBar';import RoomsContextProvider,{RoomsContext}from'../contexts/RoomsContext';// Style imports\nimport'../css/components/RoomsPage.css';// API imports\nimport RoomsAPI from'../api/rooms';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function RoomsPage(){return/*#__PURE__*/_jsx(RoomsContextProvider,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"vertical\",children:[/*#__PURE__*/_jsx(AppNavBar,{children:/*#__PURE__*/_jsx(NewRoomButton,{})}),/*#__PURE__*/_jsx(RoomBody,{}),/*#__PURE__*/_jsx(NewRoomModal,{}),/*#__PURE__*/_jsx(EditRoomModal,{})]})});}function RoomBody(){return/*#__PURE__*/_jsxs(Table,{className:\"rooms\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Raumnummer\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Raumname\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(RoomRow,{})})]});}function RoomRow(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),elements=_useState4[0],setElements=_useState4[1];var _useContext=useContext(RoomsContext),roomsContext=_useContext.roomsContext,setUpContext=_useContext.setUpContext;var showEdit=function showEdit(){setUpContext(_objectSpread(_objectSpread({},roomsContext),{},{showEditRoomModal:true}));};useEffect(function(){function doAsync(){return _doAsync.apply(this,arguments);}function _doAsync(){_doAsync=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var tempRooms;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return RoomsAPI.getRooms();case 2:tempRooms=_context.sent;_context.next=5;return setRooms(tempRooms.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return _doAsync.apply(this,arguments);};doAsync();},[]);useEffect(function(){setElements(rooms===null||rooms===void 0?void 0:rooms.map(function(room){return room.active?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:room.number},\"room_\".concat(room.number)),/*#__PURE__*/_jsx(\"td\",{children:room.name},\"room_\".concat(room.name)),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{onClick:showEdit,className:\"my-1 me-2\",children:\"Raum bearbeiten\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"my-1 me-2\",children:\"Raum l\\xF6schen\"})]})]},\"room_\".concat(room.id)):null;}));},[rooms]);return/*#__PURE__*/_jsx(_Fragment,{children:elements});}function EditRoomModal(){var _useContext2=useContext(RoomsContext),roomsContext=_useContext2.roomsContext,setUpContext=_useContext2.setUpContext;var onCancel=function onCancel(){setUpContext(_objectSpread(_objectSpread({},roomsContext),{},{showEditRoomModal:false}));};return/*#__PURE__*/_jsxs(Modal,{show:roomsContext.showEditRoomModal,onHide:onCancel,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Raum bearbeiten\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"editNumber\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Neue Nummer\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"editName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Neuer Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\"})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onCancel,children:\"Abbrechen\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:onCancel,children:\"\\xC4nderungen Speichern\"})]})]});}function NewRoomModal(){var _useContext3=useContext(RoomsContext),roomsContext=_useContext3.roomsContext,setUpContext=_useContext3.setUpContext;var onCancel=function onCancel(){setUpContext(_objectSpread(_objectSpread({},roomsContext),{},{showNewRoomModal:false}));};return/*#__PURE__*/_jsxs(Modal,{show:roomsContext.showNewRoomModal,onHide:onCancel,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Neuen Raum erstellen\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"setNumber\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nummer\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"setName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\"})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onCancel,children:\"Abbrechen\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:onCancel,children:\"\\xC4nderungen Speichern\"})]})]});}function NewRoomButton(){var _useContext4=useContext(RoomsContext),roomsContext=_useContext4.roomsContext,setUpContext=_useContext4.setUpContext;var showNewRoom=function showNewRoom(){setUpContext(_objectSpread(_objectSpread({},roomsContext),{},{showNewRoomModal:true}));};return/*#__PURE__*/_jsx(Button,{onClick:showNewRoom,children:\"Neuen Raum erstellen\"});}","map":{"version":3,"names":["React","useEffect","useState","useContext","Stack","Button","Table","Modal","Form","AppNavBar","RoomsContextProvider","RoomsContext","RoomsAPI","RoomsPage","RoomBody","RoomRow","rooms","setRooms","elements","setElements","roomsContext","setUpContext","showEdit","showEditRoomModal","doAsync","getRooms","tempRooms","data","map","room","active","number","name","id","EditRoomModal","onCancel","NewRoomModal","showNewRoomModal","NewRoomButton","showNewRoom"],"sources":["/home/oliver/Desktop/awl-raumreservierung/frontend/src/pages/RoomsPage.js"],"sourcesContent":["// Component imports\nimport React, {useEffect, useState, useContext} from 'react';\nimport {Stack, Button, Table, Modal, Form} from 'react-bootstrap';\nimport AppNavBar from './components/AppNavBar';\nimport RoomsContextProvider, {RoomsContext} from '../contexts/RoomsContext';\n\n// Style imports\nimport '../css/components/RoomsPage.css';\n// API imports\nimport RoomsAPI from '../api/rooms';\n\nexport default function RoomsPage(){    \n\n   \n\n    return(\n        <RoomsContextProvider>\n            <Stack direction='vertical'>\n                <AppNavBar>\n                    <NewRoomButton />\n                </AppNavBar>\n                <RoomBody />\n                <NewRoomModal />\n                <EditRoomModal />\n            </Stack>\n        </RoomsContextProvider>\n    );\n}\n\nfunction RoomBody(){\n    return(\n        <Table className='rooms'>\n            <thead>\n                <tr>                    \n                    <th>Raumnummer</th>\n                    <th>Raumname</th>                        \n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>                    \n                <RoomRow />\n            </tbody>\n        </Table>\n    );\n}\n\nfunction RoomRow(){\n    const [rooms, setRooms] = useState(null);\n    const [elements, setElements] = useState([]);\n    const {roomsContext, setUpContext} = useContext(RoomsContext);\n\n    const showEdit = () => {\n        setUpContext({...roomsContext, showEditRoomModal: true});\n    };\n\n    useEffect(() => {\n        async function doAsync(){\n            var tempRooms = await RoomsAPI.getRooms();\n            await setRooms(tempRooms.data);\n        };\n        doAsync();\n    }, []);\n    \n    useEffect(() => {\n        setElements(rooms?.map(room => room.active ? \n            <tr key={`room_${room.id}`}>\n                <td key={`room_${room.number}`}>{room.number}</td>\n                <td key={`room_${room.name}`}>{room.name}</td>\n                <td>\n                    <Button onClick={showEdit} className=\"my-1 me-2\">\n                        Raum bearbeiten\n                    </Button>\n                    <Button variant=\"danger\" className=\"my-1 me-2\">\n                        Raum löschen\n                    </Button>\n                </td> \n            </tr>\n            : null));\n    }, [rooms]);\n   \n\n    return(\n        <>\n            {elements}\n        </>\n    );\n}\n\nfunction EditRoomModal(){\n    const {roomsContext, setUpContext} = useContext(RoomsContext);\n\n    const onCancel = () => {\n        setUpContext({...roomsContext, showEditRoomModal: false});\n    }\n\n    return(\n        <Modal show={roomsContext.showEditRoomModal} onHide={onCancel} centered>\n        <Modal.Header closeButton>\n            <Modal.Title>Raum bearbeiten</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <Form>\n                <Form.Group className=\"mb-3\" controlId=\"editNumber\">\n                    <Form.Label>Neue Nummer</Form.Label>\n                    <Form.Control type=\"text\"/>\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"editName\">\n                    <Form.Label>Neuer Name</Form.Label>\n                    <Form.Control type=\"text\"/>\n                </Form.Group>                                      \n            </Form> \n        </Modal.Body>\n        <Modal.Footer>\n            <Button variant=\"secondary\" onClick={onCancel}>\n                Abbrechen\n            </Button>\n            <Button variant=\"primary\" onClick={onCancel}>\n                Änderungen Speichern\n            </Button>\n        </Modal.Footer>\n        </Modal>\n    );\n}\n\nfunction NewRoomModal(){\n    const {roomsContext, setUpContext} = useContext(RoomsContext);\n\n    const onCancel = () => {\n        setUpContext({...roomsContext, showNewRoomModal: false});\n    }\n\n    return(\n        <Modal show={roomsContext.showNewRoomModal} onHide={onCancel} centered>\n            <Modal.Header closeButton>\n                <Modal.Title>Neuen Raum erstellen</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form>\n                    <Form.Group className=\"mb-3\" controlId=\"setNumber\">\n                        <Form.Label>Nummer</Form.Label>\n                        <Form.Control type=\"text\"/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"setName\">\n                        <Form.Label>Name</Form.Label>\n                        <Form.Control type=\"text\"/>\n                    </Form.Group>                                      \n                </Form> \n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={onCancel}>\n                    Abbrechen\n                </Button>\n                <Button variant=\"primary\" onClick={onCancel}>\n                    Änderungen Speichern\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n}\n\nfunction NewRoomButton(){\n    const {roomsContext, setUpContext} = useContext(RoomsContext);\n\n    const showNewRoom = () => {\n        setUpContext({...roomsContext, showNewRoomModal: true});\n    };\n\n    return(\n        <Button onClick={showNewRoom}>Neuen Raum erstellen</Button>\n    );\n}\n \n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}