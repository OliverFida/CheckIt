{"ast":null,"code":"const apiRequest = require('./base').apiRequest;\n\nexport default function LoginAPI() {\n  module.exports = {\n    login\n  };\n}\n_c = LoginAPI;\n\nasync function login(username, password) {\n  var response = await apiRequest('login', \"POST\", {\n    username: username,\n    password: password\n  });\n\n  if (response.status === 200) {\n    localStorage.setItem(\"loginUsername\", username);\n    localStorage.setItem(\"loginToken\", response.data.value.stringToken);\n    localStorage.setItem(\"loginAdmin\", response.data.value.role === \"Admin\" ? true : false);\n    response = await apiRequest(`user/${username}`);\n\n    if (response.status === 200) {\n      localStorage.setItem(\"loginFirstName\", response.data.firstName);\n      localStorage.setItem(\"loginLastName\", response.data.lastname);\n    }\n  }\n\n  return response;\n}\n\nexport function logout() {\n  localStorage.clear();\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginAPI\");","map":{"version":3,"names":["apiRequest","require","LoginAPI","module","exports","login","username","password","response","status","localStorage","setItem","data","value","stringToken","role","firstName","lastname","logout","clear"],"sources":["/home/oliver/Desktop/awl-raumreservierung/frontend/src/api/login.js"],"sourcesContent":["const apiRequest = require('./base').apiRequest;\n\nexport default function LoginAPI(){\n    module.exports = {\n        login\n    };\n}\n\nasync function login(username, password){\n    var response = await apiRequest('login', \"POST\", {username: username, password: password});\n\n    if(response.status === 200){\n        localStorage.setItem(\"loginUsername\", username);\n        localStorage.setItem(\"loginToken\", response.data.value.stringToken);\n        localStorage.setItem(\"loginAdmin\", response.data.value.role === \"Admin\" ? true : false);\n        response = await apiRequest(`user/${username}`);\n        if(response.status === 200){\n            localStorage.setItem(\"loginFirstName\", response.data.firstName);\n            localStorage.setItem(\"loginLastName\", response.data.lastname);\n        }\n    }\n\n    return response;\n}\n\nexport function logout(){\n    localStorage.clear();\n}"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBD,UAArC;;AAEA,eAAe,SAASE,QAAT,GAAmB;EAC9BC,MAAM,CAACC,OAAP,GAAiB;IACbC;EADa,CAAjB;AAGH;KAJuBH,Q;;AAMxB,eAAeG,KAAf,CAAqBC,QAArB,EAA+BC,QAA/B,EAAwC;EACpC,IAAIC,QAAQ,GAAG,MAAMR,UAAU,CAAC,OAAD,EAAU,MAAV,EAAkB;IAACM,QAAQ,EAAEA,QAAX;IAAqBC,QAAQ,EAAEA;EAA/B,CAAlB,CAA/B;;EAEA,IAAGC,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;IACvBC,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCL,QAAtC;IACAI,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCH,QAAQ,CAACI,IAAT,CAAcC,KAAd,CAAoBC,WAAvD;IACAJ,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCH,QAAQ,CAACI,IAAT,CAAcC,KAAd,CAAoBE,IAApB,KAA6B,OAA7B,GAAuC,IAAvC,GAA8C,KAAjF;IACAP,QAAQ,GAAG,MAAMR,UAAU,CAAE,QAAOM,QAAS,EAAlB,CAA3B;;IACA,IAAGE,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;MACvBC,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCH,QAAQ,CAACI,IAAT,CAAcI,SAArD;MACAN,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCH,QAAQ,CAACI,IAAT,CAAcK,QAApD;IACH;EACJ;;EAED,OAAOT,QAAP;AACH;;AAED,OAAO,SAASU,MAAT,GAAiB;EACpBR,YAAY,CAACS,KAAb;AACH"},"metadata":{},"sourceType":"module"}