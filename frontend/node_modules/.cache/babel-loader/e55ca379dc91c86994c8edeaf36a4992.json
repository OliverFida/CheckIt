{"ast":null,"code":"const apiRequest = require('./base').apiRequest;\n\nasync function login(username, password) {\n  var response;\n\n  if (localStorage.getItem(\"loginHash\") !== null) {} else {\n    response = await apiRequest('login', \"POST\", {\n      username: username,\n      password: password\n    });\n\n    if (response.status === 200) {\n      localStorage.setItem(\"loginUsername\", username);\n      localStorage.setItem(\"loginToken\", response.data.value.stringToken);\n      localStorage.setItem(\"loginAdmin\", response.data.value.role === \"Admin\" ? true : false);\n      localStorage.setItem(\"loginHash\", password);\n    }\n  }\n\n  return response;\n}\n\nfunction logout() {\n  localStorage.clear();\n}\n\nmodule.exports = {\n  login,\n  logout\n};","map":{"version":3,"names":["apiRequest","require","login","username","password","response","localStorage","getItem","status","setItem","data","value","stringToken","role","logout","clear","module","exports"],"sources":["/home/oliver/Desktop/awl-raumreservierung/frontend/src/api/login.js"],"sourcesContent":["const apiRequest = require('./base').apiRequest;\n\nasync function login(username, password){\n    var response;\n    \n    if(localStorage.getItem(\"loginHash\") !== null){\n\n    }else{\n        response = await apiRequest('login', \"POST\", {username: username, password: password});\n        if(response.status === 200){\n            localStorage.setItem(\"loginUsername\", username);\n            localStorage.setItem(\"loginToken\", response.data.value.stringToken);\n            localStorage.setItem(\"loginAdmin\", response.data.value.role === \"Admin\" ? true : false);\n            localStorage.setItem(\"loginHash\", password);\n        }\n    }\n\n    return response;\n}\n\nfunction logout(){\n    localStorage.clear();\n}\n\nmodule.exports = {\n    login,\n    logout\n};"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBD,UAArC;;AAEA,eAAeE,KAAf,CAAqBC,QAArB,EAA+BC,QAA/B,EAAwC;EACpC,IAAIC,QAAJ;;EAEA,IAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,MAAsC,IAAzC,EAA8C,CAE7C,CAFD,MAEK;IACDF,QAAQ,GAAG,MAAML,UAAU,CAAC,OAAD,EAAU,MAAV,EAAkB;MAACG,QAAQ,EAAEA,QAAX;MAAqBC,QAAQ,EAAEA;IAA/B,CAAlB,CAA3B;;IACA,IAAGC,QAAQ,CAACG,MAAT,KAAoB,GAAvB,EAA2B;MACvBF,YAAY,CAACG,OAAb,CAAqB,eAArB,EAAsCN,QAAtC;MACAG,YAAY,CAACG,OAAb,CAAqB,YAArB,EAAmCJ,QAAQ,CAACK,IAAT,CAAcC,KAAd,CAAoBC,WAAvD;MACAN,YAAY,CAACG,OAAb,CAAqB,YAArB,EAAmCJ,QAAQ,CAACK,IAAT,CAAcC,KAAd,CAAoBE,IAApB,KAA6B,OAA7B,GAAuC,IAAvC,GAA8C,KAAjF;MACAP,YAAY,CAACG,OAAb,CAAqB,WAArB,EAAkCL,QAAlC;IACH;EACJ;;EAED,OAAOC,QAAP;AACH;;AAED,SAASS,MAAT,GAAiB;EACbR,YAAY,CAACS,KAAb;AACH;;AAEDC,MAAM,CAACC,OAAP,GAAiB;EACbf,KADa;EAEbY;AAFa,CAAjB"},"metadata":{},"sourceType":"module"}