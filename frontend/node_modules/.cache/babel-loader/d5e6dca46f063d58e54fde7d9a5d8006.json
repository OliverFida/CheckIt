{"ast":null,"code":"import _regeneratorRuntime from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/oliver/Desktop/awl-raumreservierung/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Component imports\nimport React,{useEffect,useState,useContext}from'react';import{Stack,Button,Table,Modal,Form}from'react-bootstrap';import AppNavBar from'./components/AppNavBar';import AppNavRooms from'./components/AppNavRooms';import RoomsContextProvider,{RoomsContext}from'../contexts/RoomsContext';import RoomModal from'./components/RoomModal';// Style imports\nimport'../css/components/RoomsPage.css';// API imports\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RoomsAPI=require('../api/rooms');export default function RoomsPage(){return/*#__PURE__*/_jsx(RoomsContextProvider,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"vertical\",children:[/*#__PURE__*/_jsx(AppNavBar,{children:/*#__PURE__*/_jsx(AppNavRooms,{})}),/*#__PURE__*/_jsx(RoomBody,{}),/*#__PURE__*/_jsx(RoomModal,{})]})});}function RoomBody(){return/*#__PURE__*/_jsxs(Table,{className:\"rooms\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Raumnummer\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Raumname\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(RoomRow,{})})]});}function RoomRow(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),elements=_useState4[0],setElements=_useState4[1];var _useContext=useContext(RoomsContext),roomsContext=_useContext.roomsContext,setUpContext=_useContext.setUpContext;var showEdit=function showEdit(){setUpContext(_objectSpread(_objectSpread({},roomsContext),{},{showEditRoomModal:true}));};useEffect(function(){function doAsync(){return _doAsync.apply(this,arguments);}function _doAsync(){_doAsync=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var tempRooms;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return RoomsAPI.getRooms();case 2:tempRooms=_context.sent;_context.next=5;return setRooms(tempRooms.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return _doAsync.apply(this,arguments);};doAsync();},[]);useEffect(function(){setElements(rooms===null||rooms===void 0?void 0:rooms.map(function(room){return room.active?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:room.number},\"room_\".concat(room.number)),/*#__PURE__*/_jsx(\"td\",{children:room.name},\"room_\".concat(room.name)),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{onClick:showEdit,className:\"my-1 me-2\",children:\"Raum bearbeiten\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"my-1 me-2\",children:\"Raum l\\xF6schen\"})]})]},\"room_\".concat(room.id)):null;}));},[rooms]);return/*#__PURE__*/_jsx(_Fragment,{children:elements});}","map":{"version":3,"names":["React","useEffect","useState","useContext","Stack","Button","Table","Modal","Form","AppNavBar","AppNavRooms","RoomsContextProvider","RoomsContext","RoomModal","RoomsAPI","require","RoomsPage","RoomBody","RoomRow","rooms","setRooms","elements","setElements","roomsContext","setUpContext","showEdit","showEditRoomModal","doAsync","getRooms","tempRooms","data","map","room","active","number","name","id"],"sources":["/home/oliver/Desktop/awl-raumreservierung/frontend/src/pages/RoomsPage.js"],"sourcesContent":["// Component imports\nimport React, {useEffect, useState, useContext} from 'react';\nimport {Stack, Button, Table, Modal, Form} from 'react-bootstrap';\nimport AppNavBar from './components/AppNavBar';\nimport AppNavRooms from './components/AppNavRooms';\nimport RoomsContextProvider, {RoomsContext} from '../contexts/RoomsContext';\nimport RoomModal from './components/RoomModal';\n// Style imports\nimport '../css/components/RoomsPage.css';\n// API imports\nconst RoomsAPI = require('../api/rooms');\n\nexport default function RoomsPage(){\n    return(\n        <RoomsContextProvider>\n            <Stack direction='vertical'>\n                <AppNavBar>\n                    <AppNavRooms />\n                </AppNavBar>\n                <RoomBody />\n                <RoomModal />\n            </Stack>\n        </RoomsContextProvider>\n    );\n}\n\nfunction RoomBody(){\n    return(\n        <Table className='rooms'>\n            <thead>\n                <tr>                    \n                    <th>Raumnummer</th>\n                    <th>Raumname</th>                        \n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>                    \n                <RoomRow />\n            </tbody>\n        </Table>\n    );\n}\n\nfunction RoomRow(){\n    const [rooms, setRooms] = useState(null);\n    const [elements, setElements] = useState([]);\n    const {roomsContext, setUpContext} = useContext(RoomsContext);\n\n    const showEdit = () => {\n        setUpContext({...roomsContext, showEditRoomModal: true});\n    };\n\n    useEffect(() => {\n        async function doAsync(){\n            var tempRooms = await RoomsAPI.getRooms();\n            await setRooms(tempRooms.data);\n        };\n        doAsync();\n    }, []);\n    \n    useEffect(() => {\n        setElements(rooms?.map(room => room.active ? \n            <tr key={`room_${room.id}`}>\n                <td key={`room_${room.number}`}>{room.number}</td>\n                <td key={`room_${room.name}`}>{room.name}</td>\n                <td>\n                    <Button onClick={showEdit} className=\"my-1 me-2\">\n                        Raum bearbeiten\n                    </Button>\n                    <Button variant=\"danger\" className=\"my-1 me-2\">\n                        Raum l√∂schen\n                    </Button>\n                </td> \n            </tr>\n            : null));\n    }, [rooms]);\n   \n\n    return(\n        <>\n            {elements}\n        </>\n    );\n}\n\n"],"mappings":"+iBAAA;AACA,MAAOA,MAAP,EAAeC,SAAf,CAA0BC,QAA1B,CAAoCC,UAApC,KAAqD,OAArD,CACA,OAAQC,KAAR,CAAeC,MAAf,CAAuBC,KAAvB,CAA8BC,KAA9B,CAAqCC,IAArC,KAAgD,iBAAhD,CACA,MAAOC,UAAP,KAAsB,wBAAtB,CACA,MAAOC,YAAP,KAAwB,0BAAxB,CACA,MAAOC,qBAAP,EAA8BC,YAA9B,KAAiD,0BAAjD,CACA,MAAOC,UAAP,KAAsB,wBAAtB,CACA;AACA,MAAO,iCAAP,CACA;6IACA,GAAMC,SAAQ,CAAGC,OAAO,CAAC,cAAD,CAAxB,CAEA,cAAe,SAASC,UAAT,EAAoB,CAC/B,mBACI,KAAC,oBAAD,wBACI,MAAC,KAAD,EAAO,SAAS,CAAC,UAAjB,wBACI,KAAC,SAAD,wBACI,KAAC,WAAD,IADJ,EADJ,cAII,KAAC,QAAD,IAJJ,cAKI,KAAC,SAAD,IALJ,GADJ,EADJ,CAWH,CAED,QAASC,SAAT,EAAmB,CACf,mBACI,MAAC,KAAD,EAAO,SAAS,CAAC,OAAjB,wBACI,oCACI,mCACI,kCADJ,cAEI,gCAFJ,cAGI,aAHJ,GADJ,EADJ,cAQI,oCACI,KAAC,OAAD,IADJ,EARJ,GADJ,CAcH,CAED,QAASC,QAAT,EAAkB,CACd,cAA0BhB,QAAQ,CAAC,IAAD,CAAlC,wCAAOiB,KAAP,eAAcC,QAAd,eACA,eAAgClB,QAAQ,CAAC,EAAD,CAAxC,yCAAOmB,QAAP,eAAiBC,WAAjB,eACA,gBAAqCnB,UAAU,CAACS,YAAD,CAA/C,CAAOW,YAAP,aAAOA,YAAP,CAAqBC,YAArB,aAAqBA,YAArB,CAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnBD,YAAY,gCAAKD,YAAL,MAAmBG,iBAAiB,CAAE,IAAtC,GAAZ,CACH,CAFD,CAIAzB,SAAS,CAAC,UAAM,SACG0B,QADH,iIACZ,yKAC0Bb,SAAQ,CAACc,QAAT,EAD1B,QACQC,SADR,qCAEUT,SAAQ,CAACS,SAAS,CAACC,IAAX,CAFlB,uDADY,0CAIX,CACDH,OAAO,GACV,CANQ,CAMN,EANM,CAAT,CAQA1B,SAAS,CAAC,UAAM,CACZqB,WAAW,CAACH,KAAD,SAACA,KAAD,iBAACA,KAAK,CAAEY,GAAP,CAAW,SAAAC,IAAI,QAAIA,KAAI,CAACC,MAAL,cAC3B,mCACI,oBAAiCD,IAAI,CAACE,MAAtC,iBAAiBF,IAAI,CAACE,MAAtB,EADJ,cAEI,oBAA+BF,IAAI,CAACG,IAApC,iBAAiBH,IAAI,CAACG,IAAtB,EAFJ,cAGI,mCACI,KAAC,MAAD,EAAQ,OAAO,CAAEV,QAAjB,CAA2B,SAAS,CAAC,WAArC,6BADJ,cAII,KAAC,MAAD,EAAQ,OAAO,CAAC,QAAhB,CAAyB,SAAS,CAAC,WAAnC,6BAJJ,GAHJ,kBAAiBO,IAAI,CAACI,EAAtB,EAD2B,CAazB,IAbqB,EAAf,CAAD,CAAX,CAcH,CAfQ,CAeN,CAACjB,KAAD,CAfM,CAAT,CAkBA,mBACI,yBACKE,QADL,EADJ,CAKH"},"metadata":{},"sourceType":"module"}